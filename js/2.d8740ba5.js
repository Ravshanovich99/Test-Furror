(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0654":function(t,e,s){},"1b10":function(t,e,s){"use strict";s("8813")},"2db7":function(t,e,s){},"30d4":function(t,e,s){"use strict";s("0654")},"6eb0":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"flex flex-center"},[t.product?e("div",{staticClass:"q-pa-md"},[e("q-table",{attrs:{data:t.product,"selected-rows-label":t.getSelectedString,selection:"single",selected:t.selected},on:{"update:selected":function(e){t.selected=e}}}),e("PopUp",{ref:"popup",attrs:{productObject:t.selected[0]}}),e("div",{staticClass:"btns-container"},[0===t.selected.length?e("Buttons",{attrs:{btnType:"primary",btnText:"Add Product"},on:{click:function(e){return t.$refs.popup.showPopUp()}}}):t._e(),1===t.selected.length?e("Buttons",{attrs:{btnType:"warning",btnText:"Edit Product"},on:{click:function(e){return t.$refs.popup.showPopUp()}}}):t._e(),1===t.selected.length?e("Buttons",{attrs:{btnType:"red",btnText:"Delete product"},on:{click:t.deleteProduct}}):t._e()],1)],1):t._e()])},c=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md q-gutter-sm"},[e("q-dialog",{model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h6"},[t._v("Add Product")]),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),e("q-card-section",{staticClass:"popup-section"},[e("FormInputs",{attrs:{productObject:t.productObject},on:{closePopUp:t.closePopUp}})],1)],1)],1)],1)},r=[],d=function(){var t=this,e=t._self._c;return e("form",{staticClass:"form-input",on:{submit:function(e){return e.preventDefault(),t.postProduct.apply(null,arguments)}}},[e("q-input",{attrs:{outlined:"",label:"Name"},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}}),e("q-input",{attrs:{outlined:"",label:"Cost"},model:{value:t.productCost,callback:function(e){t.productCost=e},expression:"productCost"}}),e("q-input",{attrs:{outlined:"",label:"Address"},model:{value:t.productAddress,callback:function(e){t.productAddress=e},expression:"productAddress"}}),e("q-btn",{attrs:{loading:t.isLoading,color:"secondary",label:"Post","icon-right":"send",type:"submit"}})],1)},a=[],i={props:{productObject:{type:Object,default:null}},data(){return{productName:this.productObject?this.productObject.name_uz:"",productCost:this.productObject?this.productObject.cost:"",productAddress:this.productObject?this.productObject.address:"",isLoading:!1}},methods:{async postProduct(){if(this.isLoading=!0,this.productObject){const t={id:this.productObject.id,product_type_id:this.productObject.product_type_id,name_uz:this.productName,cost:this.productCost,address:this.productAddress,created_date:new Date};await this.$store.dispatch("putProduct",t),this.showToast("edited")}else{const t={product_type_id:15,name_uz:this.productName,cost:this.productCost,address:this.productAddress,created_date:new Date};await this.$store.dispatch("postProduct",t),this.showToast("posted")}this.isLoading=!1,this.$emit("closePopUp")},showToast(t){this.$q.notify({message:`Successfully ${t}!`,color:"primary"})}}},u=i,p=(s("1b10"),s("2877")),l=s("27f9"),h=s("9c40"),b=s("eebe"),f=s.n(b),m=Object(p["a"])(u,d,a,!1,null,"73ca7e88",null),g=m.exports;f()(m,"components",{QInput:l["a"],QBtn:h["a"]});var y={components:{FormInputs:g},props:{productObject:{type:Object,default:null}},data(){return{icon:!1}},methods:{showPopUp(){this.icon=!0},closePopUp(){this.icon=!1}}},P=y,w=(s("30d4"),s("24e8")),_=s("f09f"),v=s("a370"),j=s("2c91"),q=s("7f67"),O=Object(p["a"])(P,n,r,!1,null,"88caead0",null),C=O.exports;f()(O,"components",{QDialog:w["a"],QCard:_["a"],QCardSection:v["a"],QSpace:j["a"],QBtn:h["a"]}),f()(O,"directives",{ClosePopup:q["a"]});var $=function(){var t=this,e=t._self._c;return e("q-btn",{attrs:{label:t.btnText,color:t.btnType},on:{click:function(e){return t.$emit("click")}}})},x=[],T={props:{btnType:{type:String,default:"primary"},btnText:{type:String,required:!0}}},k=T,Q=Object(p["a"])(k,$,x,!1,null,null,null),S=Q.exports;f()(Q,"components",{QBtn:h["a"]});var A={name:"PageProducts",components:{PopUp:C,Buttons:S},data(){return{selected:[]}},computed:{product(){return this.$store.getters.getProduct}},async mounted(){await this.$store.dispatch("getProduct")},methods:{getSelectedString(){return 0===this.selected.length?"":`${this.selected.length} record${this.selected.length>1?"s":""} selected of ${this.$store.state.product.length}`},async deleteProduct(){await this.$store.dispatch("deleteProduct",this.selected[0].id),this.selected=[],this.showToast("deleted")},showToast(t){this.$q.notify({message:`Successfully ${t}!`,color:"primary"})}}},U=A,N=(s("9293"),s("9989")),B=s("eaac"),D=Object(p["a"])(U,o,c,!1,null,"36803e82",null);e["default"]=D.exports;f()(D,"components",{QPage:N["a"],QTable:B["a"]})},8813:function(t,e,s){},9293:function(t,e,s){"use strict";s("2db7")}}]);